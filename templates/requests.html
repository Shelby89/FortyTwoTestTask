{% extends "base.html" %}
{% load static %}

{% block title %} 
        ({{ count_req }}) Ticket #3
{% endblock title %}

{% block extra_head %}
    <script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/ajax.refresh.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/check_page_activity.js' %}"></script>
{% endblock extra_head %}

{% block body_class %}focused{% endblock %}

{% block content %}

<div id="refresh" style="font-family: Georgia,serif;">
    <div style="text-align: center;">
    {% if selected_requests %}
        <table id="myTable" style="display: inline-block; text-align: left;">
            <tr style="text-align: center;">
                <th>Time of request</th>
                <th>Method</th>
                <th>Path</th>
                <th>Server Protocol</th>
                <th>Server Address and Port</th>
            </tr>
        
        {% for req in selected_requests %}
            <tr>
                <td>{{ req.request_time|date:"d/M/Y H:i:s" }}</td>
                <td>{{ req.method }}</td>
                <td>{{ req.path_info }}</td>
                <td>{{ req.server_protocol }}</td>
                <td>{{ req.remote_address }}:{{ req.server_port }}</td>
            </tr>
        {% endfor %}
        </table>
    {% else %}
        <div class="block3" style="border-top: none; display: inline-block; text-align: left;">
        There is no requests generated by you. If you want to see requests you
        need to open some page of this app in new tab.
        </div>
    {% endif %}
    
        <div class="block3" style="border: none; display: inline-block; text-align: left;">
		    <a href='/'>main page</a>
	    </div>
	</div>
</div>
{% endblock content%}