{% extends "base.html" %}
{% load static %}

{% block title %}({{ count_req }}) Shelby-Test{% endblock title %}

{% block extra_head %}
    <script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/ajax.refresh.js' %}"></script>
{% endblock extra_head %}

{% block content %}
    <div id="refresh" style="font-family: Georgia,serif;">
    <h1>Time per session = {{ time_per_session|date:"d/M/Y H:i:s" }}</h1>
    {% if selected_requests %}
        <table style="">
            <tr>
                <th>Time of request</th>
                <th>Method</th>
                <th>Path</th>
                <th>Server Protocol</th>
                <th>Server Address and Port</th>
            </tr>
        
        {% for req in selected_requests %}
            <tr>
                <td>{{ req.request_time|date:"d/M/Y H:i:s" }}</td>
                <td>{{ req.method }}</td>
                <td>{{ req.path_info }}</td>
                <td>{{ req.server_protocol }}</td>
                <td>{{ req.remote_address }}:{{ req.server_port }}</td>
            </tr>
        {% endfor %}
        </table>
    {% else %}
        <div class="block3" style="border-top: none;">
        There is no requests generated by you. If you want to see requests you
        need to open some page of this app in new tab.
        </div>
    {% endif %}
    </div>
    <div class="block3" style="border: none; position: absolute; top: 350px;">
		<a href='/'>main page</a>
	</div>
{% endblock content%}